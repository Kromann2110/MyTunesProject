<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>

<VBox xmlns="http://javafx.com/javafx/17.0.2-ea"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="dk.easv.demo.GUI.Controller.MainController"
      spacing="10"
      style="-fx-padding: 15;">

    <!-- Header Section -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label text="MyTunes Music Player" style="-fx-font-size: 20; -fx-font-weight: bold;"/>
    </HBox>

    <!-- Now Playing Section -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label fx:id="nowPlayingLabel" text="(none) ... Is Playing" style="-fx-font-size: 16; -fx-font-weight: bold;"/>
    </HBox>

    <!-- Media Controls Section -->
    <HBox spacing="20" alignment="CENTER_LEFT" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-padding: 10;">
        <!-- Playback Controls -->
        <VBox spacing="5" alignment="CENTER_LEFT">
            <Label text="Media Controls" style="-fx-font-weight: bold;"/>
            <HBox spacing="10" alignment="CENTER_LEFT">
                <Button fx:id="playButton" text="Play" onAction="#playMusic" prefWidth="60"/>
                <Button fx:id="pauseButton" text="Pause" onAction="#pauseMusic" prefWidth="60"/>
                <Button fx:id="stopButton" text="Stop" onAction="#stopMusic" prefWidth="60"/>
            </HBox>
        </VBox>

        <!-- Volume Control -->
        <VBox spacing="5" alignment="CENTER_LEFT">
            <Label text="Volume:"/>
            <Slider fx:id="volumeSlider" prefWidth="100" min="0" max="100" value="50"/>
        </VBox>

        <!-- Progress Bar -->
        <VBox spacing="5" alignment="CENTER_LEFT">
            <HBox spacing="10" alignment="CENTER">
                <Label fx:id="elapsedTimeLabel" text="0:00" style="-fx-text-fill: #666;"/>
                <Slider fx:id="progressSlider" prefWidth="200" min="0" max="100" value="0"/>
                <Label fx:id="totalTimeLabel" text="0:00" style="-fx-text-fill: #666;"/>
            </HBox>
        </VBox>
    </HBox>

    <!-- Main Content Area - Three columns layout -->
    <HBox spacing="20" VBox.vgrow="ALWAYS">

        <!-- Left: Playlists Section -->
        <VBox spacing="10" prefWidth="300">
            <Label text="Playlists" style="-fx-font-size: 16; -fx-font-weight: bold;"/>

            <TableView fx:id="playlistsTableView" prefHeight="250">
                <columns>
                    <TableColumn fx:id="playlistNameColumn" text="Name" prefWidth="100">
                        <cellValueFactory>
                            <PropertyValueFactory property="name" />
                        </cellValueFactory>
                    </TableColumn>
                    <TableColumn fx:id="playlistSongsColumn" text="Songs" prefWidth="60">
                        <cellValueFactory>
                            <PropertyValueFactory property="songCount" />
                        </cellValueFactory>
                    </TableColumn>
                    <TableColumn fx:id="playlistTimeColumn" text="Time" prefWidth="60">
                        <cellValueFactory>
                            <PropertyValueFactory property="totalDuration" />
                        </cellValueFactory>
                    </TableColumn>
                </columns>
            </TableView>

            <HBox spacing="10">
                <Button fx:id="newPlaylistButton" text="New..." onAction="#createNewPlaylist" prefWidth="80"/>
                <Button fx:id="editPlaylistButton" text="Edit..." onAction="#editPlaylist" prefWidth="80"/>
                <Button fx:id="deletePlaylistButton" text="Delete" onAction="#deletePlaylist" prefWidth="80"/>
            </HBox>
        </VBox>

        <!-- Middle: Songs on Playlist Section -->
        <VBox spacing="10" prefWidth="250">
            <Label text="Songs on Playlist" style="-fx-font-size: 16; -fx-font-weight: bold;"/>

            <ListView fx:id="playlistSongsListView" prefHeight="250"/>

            <HBox spacing="10">
                <Button fx:id="moveUpButton" text="Move Up" onAction="#moveSongUp" prefWidth="80"/>
                <Button fx:id="moveDownButton" text="Move Down" onAction="#moveSongDown" prefWidth="80"/>
                <Button fx:id="removeFromPlaylistButton" text="Remove" onAction="#removeSongFromPlaylist" prefWidth="80"/>
            </HBox>
        </VBox>

        <!-- Right: All Songs Section -->
        <VBox spacing="10" prefWidth="400" HBox.hgrow="ALWAYS">
            <Label text="Songs" style="-fx-font-size: 16; -fx-font-weight: bold;"/>

            <TableView fx:id="songsTableView" prefHeight="250">
                <columns>
                    <TableColumn fx:id="songTitleColumn" text="Title" prefWidth="120">
                        <cellValueFactory>
                            <PropertyValueFactory property="title" />
                        </cellValueFactory>
                    </TableColumn>
                    <TableColumn fx:id="songArtistColumn" text="Artist" prefWidth="100">
                        <cellValueFactory>
                            <PropertyValueFactory property="artist" />
                        </cellValueFactory>
                    </TableColumn>
                    <TableColumn fx:id="songCategoryColumn" text="Category" prefWidth="80">
                        <cellValueFactory>
                            <PropertyValueFactory property="category" />
                        </cellValueFactory>
                    </TableColumn>
                    <TableColumn fx:id="songTimeColumn" text="Time" prefWidth="60">
                        <cellValueFactory>
                            <PropertyValueFactory property="formattedDuration" />
                        </cellValueFactory>
                    </TableColumn>
                </columns>
            </TableView>

            <HBox spacing="10">
                <Button fx:id="newSongButton" text="New..." onAction="#createNewSong" prefWidth="80"/>
                <Button fx:id="editSongButton" text="Edit..." onAction="#editSong" prefWidth="80"/>
                <Button fx:id="deleteSongButton" text="Delete" onAction="#deleteSong" prefWidth="80"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button fx:id="addToPlaylistButton" text="Add to Playlist" onAction="#addSongToPlaylist" prefWidth="120"/>
            </HBox>
        </VBox>
    </HBox>

    <!-- Footer Buttons -->
    <HBox spacing="10" alignment="CENTER_RIGHT">
        <Button fx:id="closeButton" text="Close" onAction="#closeApplication" prefWidth="80"/>
    </HBox>
</VBox>